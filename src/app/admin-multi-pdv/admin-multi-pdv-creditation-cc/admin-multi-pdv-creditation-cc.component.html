<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Creditation des charges commerciaux</h1>
        </div>
    </div>

  <div class="row" style="margin: 0 auto; text-align: center; margin-top: 2rem; margin-bottom: 2rem">

  </div>
  <div class="row" style="margin-top: 1rem">
    <div class="col-xs-12 col-md-12 col-lg-12">
      <div class="panel panel-default">
        <table class="table table-striped table-responsive">
          <thead>
          <tr>
            <th>Date derniere creditation</th>
            <th>CC</th>
            <th>Montant credité</th>
            <th>Etat credit</th>
            <th>Option</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of listcredit; let i = index ">
            <th>{{item.datelastcredite}}</th>
            <th>{{item.cc}}</th>
            <th style="text-align: right">{{currencyFormat(item.mcredite)}}</th>
            <th style="text-align: right">{{currencyFormat(item.etatcredit)}}</th>
            <th><span class="pull-right" *ngIf="aacrediter==true && idaacrediter==(i+1)"><input type="number" class="form-control" [(ngModel)]="montantcredit" min="0" placeholder="Entrer la somme"/> <button [disabled]="montantcredit<0 || montantcredit==undefined" (click)="valideraacredit(item)" type="button" class="btn btn-success btn-sm" title="valider" >valider</button> <button (click)="aacrediter=false; idaacrediter=0; montantcredit=undefined"  type="button" class="btn btn-success btn-sm" title="Annuler" >Annuler</button></span> <span *ngIf="!(aacrediter==true && idaacrediter==(i+1))" ><button (click)="aacrediter=true; idaacrediter=i+1; montantcredit=undefined" type="button" class="btn btn-success btn-sm" title="Créditer" >Créditer</button> <button (click)="aacrediter=false; idaacrediter=0; montantcredit=undefined; showvoirplusdedemandeModal(item)" type="button" class="btn btn-success btn-sm" title="Detail" >Detail</button></span></th>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>


<div bsModal #crediterModal="bs-modal"  class="modal fade in" >
  <div class="modal-dialog modal-lg">
    <div class="modal-content" >
      <div class="modal-header">
        <p style="background-color:red" class="modal-title"><b style="position:absolute;left:275px">Credits</b></p>
      </div>
      <div class="modal-body row">
        dsq
      </div>
    </div>
  </div>
</div>

<div bsModal #voirplusdedemandeModal="bs-modal"  class="modal fade in" >
  <div class="modal-dialog modal-lg">
    <div class="modal-content" >
      <div class="modal-header">
        <p style="background-color:red" class="modal-title"><b style="position:absolute;left:275px">Tout les credits</b></p>
      </div>
      <div class="modal-body row" *ngIf="getdetailcredit">
        <table class="table table-striped table-responsive">
          <thead>
          <tr>
            <th>#</th>
            <th>Date derniere creditation</th>
            <th>Montant credité</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of getdetailcredit.detailcredit; let i = index " style="text-align: center">
            <th>{{i+1}}</th>
            <th>{{item.dateacrredit}}</th>
            <th style="text-align: right">{{currencyFormat(item.montant_acrredite)}}</th>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

